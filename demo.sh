#!/bin/bash
# MemoryIndex åŠŸèƒ½æ¼”ç¤ºè„šæœ¬

echo "ðŸŽ‰ MemoryIndex åŠŸèƒ½æ¼”ç¤º"
echo "======================================"
echo ""

# æ£€æŸ¥æ˜¯å¦å·²å®‰è£…
if ! command -v mi &> /dev/null; then
    echo "âŒ MemoryIndex æœªå®‰è£…"
    echo ""
    echo "è¯·å…ˆè¿è¡Œå®‰è£…è„šæœ¬ï¼š"
    echo "  ./install.sh"
    exit 1
fi

echo "âœ… MemoryIndex å·²å®‰è£…"
echo ""

# æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
echo "ðŸ“¦ å®‰è£…ä¿¡æ¯"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "å‘½ä»¤ä½ç½®: $(which mi)"
echo "Python ç‰ˆæœ¬: $(python3 --version 2>&1)"
echo ""

# æ˜¾ç¤ºå¯ç”¨å‘½ä»¤
echo "ðŸ”§ å¯ç”¨å‘½ä»¤"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  mi              ä¸»å‘½ä»¤ï¼ˆæœç´¢ï¼‰"
echo "  memoryindex     ä¸»å‘½ä»¤ï¼ˆå®Œæ•´åï¼‰"
echo "  mi-process      è§†é¢‘å¤„ç†"
echo ""

# æµ‹è¯•æœç´¢åŠŸèƒ½
echo "ðŸ” æµ‹è¯•æœç´¢åŠŸèƒ½"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "â†’ åœ¨å½“å‰ç›®å½•ï¼ˆ$(pwd)ï¼‰è¿è¡Œ mi list --limit 3"
echo ""
mi list --limit 3 2>/dev/null
echo ""

# åˆ‡æ¢åˆ°å…¶ä»–ç›®å½•æµ‹è¯•
echo "ðŸ“‚ æµ‹è¯•è·¨ç›®å½•ä½¿ç”¨"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "â†’ åˆ‡æ¢åˆ° /tmp ç›®å½•"
cd /tmp || exit 1
echo "â†’ å½“å‰ç›®å½•: $(pwd)"
echo "â†’ è¿è¡Œ mi topics"
echo ""
mi topics 2>/dev/null | head -10
echo ""

# è¿”å›ž
cd - > /dev/null || exit 0

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
echo "ðŸ“– å¸®åŠ©ä¿¡æ¯"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
mi --help 2>/dev/null | head -15
echo ""

# æ˜¾ç¤ºç¤ºä¾‹å‘½ä»¤
echo "ðŸ’¡ ç¤ºä¾‹å‘½ä»¤"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
cat << 'EOF'
# æœç´¢
mi search "å…³é”®è¯"
mi search "AI" --field transcript
mi search "ä»£ç " --field ocr

# æµè§ˆ
mi list --limit 10
mi topics
mi tags --tags æ•™è‚² ç§‘æŠ€

# å¤„ç†
mi-process video.mp4

# æŸ¥çœ‹è¯¦æƒ…
mi show 1
EOF

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… æ¼”ç¤ºå®Œæˆï¼"
echo ""
echo "ðŸ“š æ›´å¤šä¿¡æ¯ï¼š"
echo "  - å¿«é€Ÿå‚è€ƒ: cat QUICKREF.md"
echo "  - ä½¿ç”¨æŒ‡å—: cat USAGE.md"
echo "  - å®‰è£…æŒ‡å—: cat INSTALL.md"
echo ""
echo "ðŸš€ çŽ°åœ¨å°±å¼€å§‹ä½¿ç”¨å§ï¼"
echo "  mi search \"ä½ æ„Ÿå…´è¶£çš„å†…å®¹\""
